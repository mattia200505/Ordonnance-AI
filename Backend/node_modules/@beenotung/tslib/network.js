"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.checkFetch = checkFetch;
exports.toFormData = toFormData;
const defer_1 = require("./async/defer");
/**
 * Created by beenotung on 6/2/17.
 */
function checkFetch(url) {
    const defer = (0, defer_1.createDefer)();
    fetch(url)
        .then(_res => defer.resolve(true))
        .catch(_err => defer.resolve(false));
    return defer.promise;
}
function toFormData(o) {
    const formData = new FormData();
    Object.keys(o).forEach(x => {
        if (typeof o[x] === 'number') {
            formData.append(x, o[x] + '');
        }
        else {
            formData.append(x, o[x]);
        }
    });
    return formData;
}
