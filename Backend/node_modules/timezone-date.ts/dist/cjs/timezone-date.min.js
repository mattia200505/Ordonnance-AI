"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const MILLISECOND=1,SECOND=1e3,MINUTE=6e4,HOUR=36e5;function fromDateTimezoneOffset(e){return-e/60}class TimezoneDate{constructor(e=Date.now(),t){this.time=e;const n=null==t?void 0:t.timezone;this.timezone="number"==typeof n?n:fromDateTimezoneOffset((new Date).getTimezoneOffset())}toString(){return this.toDate().toString()}toLocaleString(e,t){return this.toTimezoneOffsetDate().toLocaleString(e,t)}valueOf(){return this.time}[Symbol.toPrimitive](e){return this.toDate()[Symbol.toPrimitive](e)}toTimezoneOffsetDate(){let e=this.time;return e+=this.timezone*HOUR,e+=6e4*(new Date).getTimezoneOffset(),new Date(e)}toDate(){return new Date(this.time)}tunnelTimezoneOffsetDate(e){const t=this.toTimezoneOffsetDate(),n=t.getTime();e(t);const i=t.getTime()-n;return this.time+=i,this.time}getDate(){return this.toTimezoneOffsetDate().getDate()}getDay(){return this.toTimezoneOffsetDate().getDay()}getFullYear(){return this.toTimezoneOffsetDate().getFullYear()}getHours(){return this.toTimezoneOffsetDate().getHours()}getMilliseconds(){return this.toTimezoneOffsetDate().getMilliseconds()}getMinutes(){return this.toTimezoneOffsetDate().getMinutes()}getMonth(){return this.toTimezoneOffsetDate().getMonth()}getSeconds(){return this.toTimezoneOffsetDate().getSeconds()}getTime(){return this.time}getTimezoneOffset(){return-60*this.timezone}setTimezoneOffset(e){this.timezone=fromDateTimezoneOffset(e)}getUTCDate(){return this.toDate().getUTCDate()}getUTCDay(){return this.toDate().getUTCDay()}getUTCFullYear(){return this.toDate().getUTCFullYear()}getUTCHours(){return this.toDate().getUTCHours()}getUTCMilliseconds(){return this.toDate().getUTCMilliseconds()}getUTCMinutes(){return this.toDate().getUTCMinutes()}getUTCMonth(){return this.toDate().getUTCMonth()}getUTCSeconds(){return this.toDate().getUTCSeconds()}setDate(e){return this.tunnelTimezoneOffsetDate((t=>t.setDate(e)))}setFullYear(e,...t){return this.tunnelTimezoneOffsetDate((n=>n.setFullYear(e,...t)))}setHours(e,...t){return this.tunnelTimezoneOffsetDate((n=>n.setHours(e,...t)))}setMilliseconds(e){return this.tunnelTimezoneOffsetDate((t=>t.setMilliseconds(e)))}setMinutes(e,...t){return this.tunnelTimezoneOffsetDate((n=>n.setMinutes(e,...t)))}setMonth(e,...t){return this.tunnelTimezoneOffsetDate((n=>n.setMonth(e,...t)))}setSeconds(e,...t){return this.tunnelTimezoneOffsetDate((n=>n.setSeconds(e,...t)))}setTime(e){return this.time=e}setUTCDate(e){return this.tunnelTimezoneOffsetDate((t=>t.setUTCDate(e)))}setUTCFullYear(e,t,n){return this.tunnelTimezoneOffsetDate((i=>i.setUTCFullYear(e,t,n)))}setUTCHours(e,t,n,i){return this.tunnelTimezoneOffsetDate((s=>s.setUTCHours(e,t,n,i)))}setUTCMilliseconds(e){return this.tunnelTimezoneOffsetDate((t=>t.setUTCMilliseconds(e)))}setUTCMinutes(e,t,n){return this.tunnelTimezoneOffsetDate((i=>i.setUTCMinutes(e,t,n)))}setUTCMonth(e,t){return this.tunnelTimezoneOffsetDate((n=>n.setUTCMonth(e,t)))}setUTCSeconds(e,t){return this.tunnelTimezoneOffsetDate((n=>n.setUTCSeconds(e,t)))}toDateString(){return this.toTimezoneOffsetDate().toDateString()}toISOString(){return this.toDate().toISOString()}toJSON(e){return this.toDate().toJSON(e)}clone(){return new TimezoneDate(this.time,{timezone:this.timezone})}toLocaleDateString(e,t){return this.toTimezoneOffsetDate().toLocaleDateString(e,t)}toLocaleTimeString(e,t){return this.toTimezoneOffsetDate().toLocaleTimeString(e,t)}toTimeString(){return this.toTimezoneOffsetDate().toTimeString()}toUTCString(){return this.toDate().toUTCString()}static fromTime(e){return new TimezoneDate(e)}static fromDate(e){return new TimezoneDate(e.getTime(),{timezone:fromDateTimezoneOffset(e.getTimezoneOffset())})}static from(e){return"number"==typeof e?this.fromTime(e):this.fromDate(e)}}exports.TimezoneDate=TimezoneDate;
